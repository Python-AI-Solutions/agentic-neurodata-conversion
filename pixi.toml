[project]
name = "agentic-neurodata-conversion"
version = "0.1.0"
description = "AI-assisted neurodata conversion to NWB format using multi-agent architecture"
authors = ["Aditya Patane <aditya@example.com>"]
channels = ["conda-forge"]
platforms = ["osx-64", "osx-arm64", "linux-64", "win-64"]

[dependencies]
python = ">=3.13"
fastapi = ">=0.115.0"
uvicorn = ">=0.32.0"
pydantic = ">=2.9.0"
reportlab = ">=4.2.5"
jinja2 = ">=3.1.4"
pytest = ">=8.3.3"
pytest-cov = ">=6.0.0"
pytest-asyncio = ">=0.24.0"
httpx = ">=0.27.2"
pyyaml = ">=6.0.2"
numpy = ">=2.1.3"
h5py = ">=3.12.1"

[pypi-dependencies]
neuroconv = ">=0.6.3"
pynwb = ">=2.8.2"
nwbinspector = ">=0.4.36"
anthropic = ">=0.39.0"
websockets = ">=13.1"
spikeinterface = ">=0.101.0"

[tasks]
# Development tasks
dev = "sh -c 'cd backend/src && uvicorn api.main:app --reload --host 0.0.0.0 --port 8000'"
test = "pytest backend/tests -v --cov=backend/src --cov-report=term-missing"
test-unit = "pytest backend/tests/unit -v"
test-integration = "pytest backend/tests/integration -v"
lint = "ruff check backend/"
format = "ruff format backend/"
typecheck = "mypy backend/src"

# Utility tasks
generate-fixtures = "python backend/tests/fixtures/generate_toy_dataset.py"
clean = "rm -rf backend/src/__pycache__ backend/tests/__pycache__ .pytest_cache .coverage htmlcov"
serve = "python run_server.py"

[feature.dev.dependencies]
ruff = ">=0.7.4"
mypy = ">=1.13.0"
ipython = ">=8.29.0"

[environments]
default = {features = ["dev"], solve-group = "default"}
