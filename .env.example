# Agentic Neurodata Conversion Environment Configuration
# Copy this file to .env and modify the values as needed

# =============================================================================
# MCP Server Configuration
# =============================================================================

# Server host and port settings
MCP_SERVER__HOST=127.0.0.1
MCP_SERVER__PORT=8000
MCP_SERVER__DEBUG=true
MCP_SERVER__LOG_LEVEL=INFO

# CORS settings for web interface
MCP_SERVER__CORS_ORIGINS=["http://localhost:3000", "http://localhost:8080"]

# =============================================================================
# Agent Configuration
# =============================================================================

# LLM model settings for agents
AGENTS__CONVERSATION_MODEL=gpt-4
AGENTS__CONVERSION_TIMEOUT=300
AGENTS__EVALUATION_STRICT=true
AGENTS__KNOWLEDGE_GRAPH_FORMAT=ttl

# OpenAI API configuration (if using OpenAI models)
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_ORG_ID=your_openai_org_id_here

# Anthropic API configuration (if using Claude models)
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# Local model configuration (if using local models)
LOCAL_MODEL_URL=http://localhost:11434
LOCAL_MODEL_NAME=llama2

# =============================================================================
# Data Processing Configuration
# =============================================================================

# Directory settings
DATA__OUTPUT_DIR=outputs
DATA__TEMP_DIR=temp
DATA__CACHE_DIR=cache

# File processing limits
DATA__MAX_FILE_SIZE=1073741824  # 1GB in bytes
DATA__MAX_PROCESSING_TIME=3600  # 1 hour in seconds

# Supported data formats
DATA__SUPPORTED_FORMATS=["open_ephys", "spikeglx", "neuralynx", "blackrock", "intan"]

# =============================================================================
# Database Configuration
# =============================================================================

# Database connection (optional - for state persistence)
DATABASE__URL=sqlite:///./agentic_converter.db
DATABASE__ECHO=false
DATABASE__POOL_SIZE=5
DATABASE__MAX_OVERFLOW=10

# Redis configuration (optional - for caching)
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_DB=0

# =============================================================================
# External Service Integration
# =============================================================================

# NeuroConv configuration
NEUROCONV__BACKEND=auto
NEUROCONV__COMPRESSION=gzip
NEUROCONV__CHUNK_SIZE=1024

# NWB Inspector configuration
NWB_INSPECTOR__STRICT_MODE=false
NWB_INSPECTOR__CHECK_COMPLETENESS=true

# LinkML configuration
LINKML__SCHEMA_PATH=schemas/
LINKML__VALIDATION_LEVEL=error

# DANDI Archive integration (optional)
DANDI_API_KEY=your_dandi_api_key_here
DANDI_STAGING=false

# =============================================================================
# Development and Debugging
# =============================================================================

# Environment mode
ENVIRONMENT=development

# Logging configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/agentic_converter.log

# Debug settings
DEBUG=true
VERBOSE=false
PROFILE=false

# Testing configuration
TEST_DATA_DIR=tests/fixtures/data
TEST_OUTPUT_DIR=tests/outputs
PYTEST_TIMEOUT=300

# =============================================================================
# Security Configuration
# =============================================================================

# API security (if implementing authentication)
SECRET_KEY=your_secret_key_here_change_in_production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# CORS and security headers
ALLOWED_HOSTS=["localhost", "127.0.0.1"]
TRUSTED_PROXIES=[]

# =============================================================================
# Performance and Resource Management
# =============================================================================

# Concurrency settings
MAX_WORKERS=4
MAX_CONCURRENT_CONVERSIONS=2
WORKER_TIMEOUT=1800  # 30 minutes

# Memory management
MAX_MEMORY_USAGE=8589934592  # 8GB in bytes
MEMORY_CHECK_INTERVAL=60     # seconds

# Disk space management
MIN_FREE_DISK_SPACE=5368709120  # 5GB in bytes
CLEANUP_TEMP_FILES=true
TEMP_FILE_RETENTION_HOURS=24

# =============================================================================
# Monitoring and Observability
# =============================================================================

# Metrics collection (optional)
ENABLE_METRICS=false
METRICS_PORT=9090
METRICS_PATH=/metrics

# Health check configuration
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# Sentry error tracking (optional)
SENTRY_DSN=your_sentry_dsn_here
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# =============================================================================
# Data Management and Provenance
# =============================================================================

# DataLad configuration (for data versioning)
DATALAD_REPO_PATH=data/
DATALAD_REMOTE_URL=
DATALAD_SIBLING_NAME=origin

# Git configuration for provenance
GIT_USER_NAME=Agentic Converter
GIT_USER_EMAIL=converter@example.com

# Metadata tracking
TRACK_PROVENANCE=true
METADATA_SCHEMA_VERSION=1.0
INCLUDE_SYSTEM_INFO=true

# =============================================================================
# Deployment Configuration
# =============================================================================

# Container settings
CONTAINER_NAME=agentic-converter
CONTAINER_PORT=8000
CONTAINER_MEMORY_LIMIT=4g

# Load balancer settings (if using multiple instances)
LOAD_BALANCER_URL=
INSTANCE_ID=instance-1
HEALTH_CHECK_URL=/health

# Backup configuration
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=backups/

# =============================================================================
# Feature Flags
# =============================================================================

# Enable/disable specific features
ENABLE_WEB_INTERFACE=true
ENABLE_API_DOCS=true
ENABLE_KNOWLEDGE_GRAPH=true
ENABLE_EVALUATION_REPORTS=true
ENABLE_BATCH_PROCESSING=false
ENABLE_REAL_TIME_MONITORING=false

# Experimental features
ENABLE_EXPERIMENTAL_AGENTS=false
ENABLE_ADVANCED_VALIDATION=false
ENABLE_ML_OPTIMIZATION=false
